<div class="container">
  <%= form_with(model: fix_picture) do |form| %>
    <div class="d-flex justify-content-between p-3">
      <div class="">
        <h3>Thông tin ảnh</h3>
      </div>

      <div class="">
        <%= form.submit title, {class: "btn btn-light"}%>
      </div>
    </div>

    <% if fix_picture.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(fix_picture.errors.count, "error") %> prohibited this fix_picture from being saved:</h2>

        <ul>
          <% fix_picture.errors.each do |error| %>
            <li><%= error.full_message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group row">
      <%= form.label :title, value: "Tên ảnh", class: "col-sm-2 col-form-label" %>
      <div class="col-sm-10">
        <%= form.text_field :title %>
      </div>
    </div>

    <div class="form-group row">
      <%= form.label :picture, value: "Tải ảnh", class: "col-sm-2 col-form-label" %>
      <div class="col-sm-10">
        <%= form.file_field :picture, accept: "image/jpeg, image/gif, image/png, image/jpg" %>
      </div>
    </div>

    <% if fix_picture.picture? %>
      <div class="form-group row">
        <%= form.label :picture, value: "Ảnh hiện tại", class: "col-sm-2 col-form-label" %>
        <div class="col-sm-10">
          <%= image_tag fix_picture.picture.url if fix_picture.picture? %>
        </div>
      </div>
    <% end %>
  <% end %>
  <%= link_to 'Back', fix_pictures_path %>
</div>

<script type="text/javascript">
	$("#micropost_picture").bind("change", function(){
    var size_in_megabytes = this.files(0).size/1024/1024;
    if (size_in_megabytes > 1) {
      alert("Maximum file size is 1MB. Please choose an other file!");
    }
  });
</script>